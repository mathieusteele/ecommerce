<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title><%= title %></title>

    <link rel="stylesheet" type="text/css" href="/css/styles.css" />
  </head>

  <body>
    <%- include('../includes/nav.ejs') %>

    <div class="bg-white">
      <div class="max-w-7xl mx-auto overflow-hidden sm:px-6 lg:px-8">
        <div class="max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-0">
          <h1
            class="
              text-3xl
              font-extrabold
              text-center
              tracking-tight
              text-gray-900
              sm:text-4xl
            "
          >
            Manage Menu
          </h1>
          <% if (products.length > 0) { %>
          <p class="text-center text-gray-600 mt-2">
            Click an item to edit or delete.
          </p>
          <% } %>
        </div>

        <div
          class="
            -mx-px
            border-t border-l border-gray-200
            grid grid-cols-2
            sm:mx-0
            md:grid-cols-3
            lg:grid-cols-4
            md:mb-8
          "
        >
          <% for (let product of products) { %>

          <div
            class="group relative p-4 border-r border-b border-gray-200 sm:p-6"
          >
            <div
              class="
                rounded-lg
                overflow-hidden
                bg-gray-200
                aspect-w-1 aspect-h-1
                group-hover:opacity-75
              "
            >
              <img
                src="<%= product.imageUrl %>"
                alt="<%= product.title %>"
                class="w-full h-full object-center object-cover"
              />
            </div>
            <div class="pt-10 pb-4 text-center">
              <h3 class="text-sm font-medium text-gray-900">
                <a href="/admin/edit-entree/<%= product._id %>?edit=true">
                  <span aria-hidden="true" class="absolute inset-0"></span>
                  <%= product.title %>
                </a>
              </h3>
              <div class="mt-3 flex flex-col items-center">
                <p class="mt-1 text-sm text-gray-500 text-left">
                  <%= product.description %>
                </p>
              </div>
              <p class="mt-4 text-xl font-medium text-gray-900">
                $ <%= product.price.toFixed(2) %>
              </p>
            </div>
          </div>

          <% } %>

          <a
            href="/admin/add-entree"
            class="
              relative
              block
              w-full
              border-2 border-gray-300 border-dashed
              rounded-lg
              p-12
              text-center
              hover:border-gray-400
              focus:outline-none
              focus:ring-2
              focus:ring-offset-2
              focus:ring-indigo-500
            "
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="mx-auto h-12 w-12 text-gray-400"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg>
            <span class="mt-2 block text-sm font-medium text-gray-900">
              Create a new Entree
            </span>
          </a>
        </div>
      </div>
    </div>

    <%- include('../includes/footer.ejs') %>
  </body>
</html>
